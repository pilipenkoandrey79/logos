<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
</head>
<body>
  <div class="container">
    <div class="row">
      <div class="col-sm">
        <form name="phone_test">
          <div class="form-group">
            <label for="phone">Phone</label>
            <input type="text" id="phone" name="phone" class="form-control" placeholder="+XXX(XXX)XXX-XX-XX" />
          </div>
        </form>
      </div>
    </div>
    <div class="row">
      <div class="col-sm">
        <div class="info">

        </div>
      </div>
    </div>
  </div>
  <script>
window.onload = function() {
  var infoPanel = document.querySelector('.info');

	document.forms['phone_test'].addEventListener('submit', function(event) {
		event.preventDefault();
    infoPanel.className = 'info';
    infoPanel.innerHTML = '';
    
    var validationInfo = this.elements['phone'].value.match(/^\+?(\d{1,3}) ?\((\d{3})\) ?\d{3}([ -]?\d{2}){2}$/);
    
    if (validationInfo === null) {
      infoPanel.classList.add('alert', 'alert-danger');
      infoPanel.innerHTML = 'Wrong number!';

      return;
    }

    infoPanel.classList.add('alert', 'alert-success');
    infoPanel.innerHTML = 'Code of the country: ' + validationInfo[1] + '<br />Operator: ' + validationInfo[2];
	});



  (new Promise(function(resolve, reject) {
    setTimeout(function() {
      var rand = 0;
      rand ? resolve('Hello world') : reject(rand);
    }, 1500);
  })).then(function(message){
    console.log(message);
    return message;
  }).then(function(message){
    console.log(message + message);
  }).catch(function(error){
    console.log('failed:' + error);
  });
};
  </script>
</body>
</html>
